<!-- adding dark mode -->
<meta name="color-scheme" content="dark">

<!-- adding a text box that the user will put their player name -->
<input id="userinput" type="text">
 

<!-- creating a button that is connected to and will run he function named "plyername", and the button text "Enter" -->
<button id="enterBtn" onclick ="playername()">Enter</button>
 

<!--now create a button "play" with a ID, that will be connected to function named playbutton when clicked-->
<button id="playbutton">Play</button >  
  

<!-- creating a box for the player to put their answer -->
<!--making it only able to read so the player willnot have access to type from keyboard--> 
<!--limit to max 4 numder --> 
<input id="ansBox" readonly maxlength ="4">


<!--create button from 0-9 for the user to input number guess -->
<!--adding parameter in button number -->
<button id ="button0">0</button> 
<button id ="button1">1</button>
<button id ="button2">2</button>
<button id ="button3">3</button>
<button id ="button4">4</button>
<button id ="button5">5</button>
<button id ="button6">6</button>
<button id ="button7">7</button>
<button id ="button8">8</button>
<button id ="button9">9</button>
 

<!--add a button to submit answer-->
<button id = "guessBtn">Guess</button>


<!--adding container to display guess and feeback history list-->
<div id="guessList"></div>


<!--adding congratulating container for winning-->
<div id = "congratulating"></div>

<!-- button to start a new game --> 
<button id = "newGame">New Game</button> 

 
<script>   

//create a variable to find the "Enter" button element 
var enterBtn = document.getElementById("enterBtn"); 
//log it 
console.log("This is for Enter button", enterBtn);


////create a variable for the playername and grab the element 
var userinput = document.getElementById("userinput"); 
//log it 
console.dir("This is userinput:", userinput); 


//create a variable to find the playbutton element 
var playButton = document.getElementById("playbutton"); 
//save them in browser 
console.log("This is to debug play button", playButton);
   

//create a variable to find the answer box element 
var ansBox = document.getElementById("ansBox");  
//log it to debug later if needed 
console.log("This is the answer box:", ansBox.value);


//creating a variable to grab the guess button element
var guessBtn = document.getElementById("guessBtn");
//log it 
console.log("Guess button:", guessBtn); 


//creating a variable to grab the container element 
var guessList = document.getElementById("guessList"); 
//log it 
console.log("Guesses and feedbacks list:", guessList);  


//creating a variable to gran the new game element 
var newGame = document.getElementById("newGame"); 
//log it 
console.log("Start new game:" + newGame); 


//variable to grab congratulating container element 
var congratulating = document.getElementById("congratulating"); 
//log it
console.log("Congratulating the winning:", congratulating); 

 

//hide the playbutton at the beginning 
playButton.style.display = "none"; 
 
//hide the answer box 
ansBox.style.display = "none"; 

//hide the guess button 
guessBtn.style.display = "none"; 

//hide the container displaying guess and feedback history list 
guessList.style.display = "none"; 

//hide the new game button
newGame.style.display = "none"; 

//hide the congratulating container
congratulating.style.display = "none";  






//using for-loop to create similar to array for button 0-9 
//creat an empty variable array  
var numButton = []; 
 
// cerate loop to make array of button 0-9
for(var index = 0; index <= 9; index++) {

    //create a variable to find the button 0-9 element by adding "index"
     var button09 = document.getElementById("button" + index);  

     //hide the buttons for now
     button09.style.display = "none";

     //add button09 to numButton which was an empty array 
     //so it becomes an array filled with button 0-9
     numButton.push(button09); 
}

//log numButton in console
console.log("This is for number buttons 0-9", numButton);



//create a function for the playername
function playername() {

//hide the text box after the player has written name in it
userinput.style.display = "none";     
//hide the "Enter" button  
enterBtn.style.display = "none";  
 

console.log("Player's name (debug)", userinput.value);

//give the output to the player    
alert("Welcome, " + userinput.value + "!");   

//show play button agian
playButton.style.display = "block"; 
}
 
 

//add the click event that will take to the playbutton function when clicked
playButton.addEventListener("click", playbutton);
 
//create the playbutton function
function playbutton() { 
    //for-looping them agian 
    for (var i=0; i< numButton.length; i++) {

    //show the button 0-9 after play button is clicked
    numButton[i].style.display = "block";  
    }
      
    //show the answer box 
    ansBox.style.display = "block"; 

    //show the guess button
    guessBtn.style.display = "block";  

    //show the container that will show the guess list 
    guessList.style.display = "block"; 
}
 


//creating 4 random digits (each wilth different value) 

//cerate a function for the 4 random digits
function randomhiddenNum () { 

    //create an array variable for all possible digits
    var digits = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9];

    //create an emppty array for the result 
    var result = [];

     
    //create a for-loop to create 4 random digits
    for (var i = 0; i < 4; i++) {
        
        //create a random digt and mutilply it number of elements in digits array 
        //round down the random number to the next nearest interger
        var createnum = Math.floor(Math.random() * digits.length);

        //add it to the result array
        result.push(digits[createnum]);

        //splice will remove the used digits so it can't be picked again
        digits.splice(createnum, 1);
    }

    //send the result array back to where the function was called
    return result; 
}

//create a variable to store randomhiddennum  
 var secretNum = randomhiddenNum();

//log it to console so we can debug it later if needed 
 console.log("Secret number (debug)", secretNum);


 
//create a false Boolean state, the player can't submit yet   
var submitGuess = false; 
 
//adding click event to buttons array to update the answer box
for (var i = 0; i < numButton.length; i++){
    
    //store in a variable to use in attaching an event listener 
    var button = numButton[i];  
    console.log("i is " + i) 
    button.addEventListener("click", function(event){  

        //stop the program from adding more than 4 digits 
        if(ansBox.value.length >= 4){ 
            //stop the funciton adding digits 
            return; 
        } 

        console.log(event.target.innerHTML);
        //update the number that the player clicked to the answer box 
        ansBox.value += event.target.innerHTML;  
 
        //if the answer is strictly equal to 4  
        if (ansBox.value.length === 4){ 
           //can guess the answer 
           submitGuess = true;  
           console.log("Exactly 4 digits,can submit the guess:", submitGuess);
        }
        else {
            submitGuess = false; 
            console.log("Less than 4 digits, not allowed:", submitGuess);
        }
 
    }); 
}
 


 //add the event listener to the guess button 
guessBtn.addEventListener("click", function() {
    //check if exact 4 digits entered, if it's not strictly 4 
    if(ansBox.value.length !== 4){
        alert("Please enter 4 digits!"); 

        //stop the process 
        return; 
    }

    console.log("Guess submitted", ansBox.value); 

    //save it in a varaible 
    var guessAns = ansBox.value; 

    //give feedback 
    var feedback = giveFeedback (guessAns, secretNum); 

    //write output in the guess list container
    guessList.innerHTML += "Your guess: " + guessAns + "  (Your have " + feedback.correctNumber + " correct number " + "& " + feedback.correctPosition + " correct position.)"

    console.log("Feedback", feedback); 


    //if the player has guessed all correctly
    if(feedback.correctPosition === 4) {
        //display the congratulating container and congratulate
        congratulating.style.display = "block"; 
        congratulating.innerHTML += "Number; " + secretNum + " was the correct answer. Congratulations, you have guessed all correctly!";  

        //disable the function after the player got the answer
        guessBtn.disabled = true; 

        //log it 
        console.log("Player has got it"); 

        //show the new game button
        newGame.style.display = "block"; 
    }



    //empty the answer box after clicking the guess button
    ansBox.value = ""; 
 
}); 



//creating a function to give feedback
function giveFeedback (guessAns, secretNum) {

    //first,converting number guess string into individual characters 
    
    /* make two empty array variables
    one for to hold characters and one to hold converted these chacracters into numbers */  
    var guessChar = [];
    var guessArr  = []; 


    //add each characters one by one into character array
    for(var i = 0; i < guessAns.length; i++) {
        //push each
        guessChar.push(guessAns[i]);  
    } 


    //now convert each character into numbers & add into number array
    for(var a = 0; a < guessChar.length; a++) {

        //convert each to number now and save them in varaible 
        var numVersion = Number(guessChar[a]); 
        
        //push them into number array
        guessArr.push(numVersion); 
    } 


    //creating variables to count the correct position and correct number
    //start at 0
    var correctPosition = 0; 
    var correctNumber = 0; 

    //to check correct position
    for (var i = 0; i < 4; i++){

        //if the digits guessed and hidden number's position'
        if(guessArr[i] === secretNum[i]) {
        
        //add 1 for each correct position 
        correctPosition++;  
        }
    }



    //checking correct number 
    for (var a = 0; a < 4; a++) {

        if(guessArr[a] === secretNum[a]) {
            //do nothing  
        }
        
        else {
            for(var b =0; b < 4; b++) {

            /* here we use "AND" operater bc noth condition must be true
        1-check if the each number guessed is equal to one of the hidden number 
        2-if a number is in a differnet position */ 
        if(guessArr[a] === secretNum[b] && a !== b) {

            correctNumber++; 

            //break out of the loop 
            break;  
        } 
    }
        } 
    } 

    //log them 
    console.log("Correct position", correctPosition); 
    console.log("Correct NUmber", correctNumber); 
    //return them to correct position and correct number 
    return {correctPosition, correctNumber}; 
} 
  
 
 
 
//here is new game function that will start a new game when u clikc it

newGame.addEventListener("click", function () {

    //tell the computer to make a new hidden number
    secretNum = randomhiddenNum(); 
    //log it
    console.log("New secret number:" + secretNum); 

    //empty the guest list container 
    guessList.innerHTML = ""; 

    //empty the congratulating container  
    congratulating.innerHTML = ""; 

    //make from disable to able the guess button
    guessBtn.disabled = false; 

    //hide the reset button again
    newGame.style.display = "none"; 
})  

  











 
 




</script> 

 

